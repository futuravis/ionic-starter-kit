<ion-header class="home-header" [translucent]="true" [class.is-collapsed]="isCollapsed">
  <ion-toolbar class="search-toolbar">
    <ion-buttons slot="start">
      <ion-menu-button class="menu-button" auto-hide="false"></ion-menu-button>
    </ion-buttons>
    <ion-searchbar
      slot="primary"
      class="collapsed-searchbar"
      placeholder="Search components"
      [(ngModel)]="searchQuery"
      show-clear-button="focus"
      show-cancel-button="never"
    ></ion-searchbar>
    <ion-buttons slot="end">
      <ion-button fill="clear" class="icon-button" aria-label="Filter">
        <ion-icon name="options-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content
  class="home-page"
  [fullscreen]="true"
  [scrollEvents]="true"
  (ionScroll)="onScroll($event)"
  [class.is-collapsed]="isCollapsed"
>
  <section class="hero">
    <div class="hero-header">
      <div class="brand">
        <ion-menu-button class="menu-button" auto-hide="false"></ion-menu-button>
        <ion-icon name="layers-outline"></ion-icon>
        <div>
          <h1>Starter Kit</h1>
          <p>Design system starter for Ionic apps.</p>
        </div>
      </div>
      <div class="hero-actions">
        <ion-button fill="clear" class="icon-button" aria-label="Notifications">
          <ion-icon name="notifications-outline"></ion-icon>
        </ion-button>
        <ion-button fill="clear" class="icon-button" aria-label="Profile">
          <ion-icon name="person-circle-outline"></ion-icon>
        </ion-button>
      </div>
    </div>

    <div class="hero-search">
      <ion-searchbar
        class="hero-searchbar"
        placeholder="Search UI components"
        [(ngModel)]="searchQuery"
        show-clear-button="focus"
        show-cancel-button="never"
      ></ion-searchbar>
      <ion-button fill="solid" class="filter-button" aria-label="Filter components">
        <ion-icon name="options-outline"></ion-icon>
      </ion-button>
    </div>

    <div class="logo-row">
      <ion-chip color="light">
        <ion-icon name="color-palette-outline"></ion-icon>
        <ion-label>Tokens</ion-label>
      </ion-chip>
      <ion-chip color="light">
        <ion-icon name="layers-outline"></ion-icon>
        <ion-label>Ionic UI</ion-label>
      </ion-chip>
      <ion-chip color="light">
        <ion-icon name="albums-outline"></ion-icon>
        <ion-label>Demos</ion-label>
      </ion-chip>
      <ion-chip color="light">
        <ion-icon name="construct-outline"></ion-icon>
        <ion-label>Utilities</ion-label>
      </ion-chip>
    </div>

    <div class="feature-grid">
      <ion-card *ngFor="let item of highlights">
        <ion-card-header>
          <ion-icon [name]="item.icon"></ion-icon>
          <ion-card-title>{{ item.title }}</ion-card-title>
        </ion-card-header>
        <ion-card-content>{{ item.text }}</ion-card-content>
      </ion-card>
    </div>
  </section>

  <section class="section sticky-section">
    <div class="section-content">
      <h2 class="app-h3">Shared UI components</h2>
      <p class="section-subtitle">Search and browse the Ionic building blocks used across the app.</p>
    </div>
  </section>

  <ion-list class="component-list">
    <ng-container *ngFor="let group of filteredGroups">
      <ion-list-header>{{ group.group }}</ion-list-header>
      <ion-item
        *ngFor="let item of group.items"
        lines="full"
        button="true"
        detail="false"
        (click)="openDemo(group.group, item)"
      >
        <ion-label>{{ item }}</ion-label>
      </ion-item>
    </ng-container>
  </ion-list>

  <p class="empty-state ion-padding" *ngIf="filteredGroups.length === 0">
    No components match "{{ searchQuery }}".
  </p>

  <ion-modal
    [isOpen]="demoOpen"
    [initialBreakpoint]="0.45"
    [breakpoints]="[0, 0.45, 0.8]"
    handle="true"
    (didDismiss)="closeDemo()"
  >
    <ng-template>
      <ion-content class="demo-sheet">
        <ion-toolbar>
          <ion-title>{{ selectedDemo?.name }}</ion-title>
          <ion-buttons slot="end">
            <ion-button fill="clear" aria-label="Close" (click)="closeDemo()">
              <ion-icon name="close-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
        <div class="demo-body ion-padding">
          <p>{{ selectedDemo?.description }}</p>
          <ion-button expand="block" routerLink="/tabs/libs">Open Libraries</ion-button>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
